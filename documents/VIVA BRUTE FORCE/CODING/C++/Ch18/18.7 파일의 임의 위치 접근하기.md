# 18.7 파일의 임의 위치 접근하기



```C++

// main.cpp

#include <iostream>
#include <fstream>
#include <string>
#include <cstdlib>  // exit()
#include <sstream>


int main() {


    {
        const std::string filename = "my_file.txt";

        // make a file
        {
            std::ofstream ofs(filename);

            for (char i = 'a'; i <= 'z'; ++i)
                ofs << i;
            ofs << std::endl;
        }

        // read the file
        {
            std::ifstream ifs(filename);

            // 5바이트 이동한 다음에 읽어들여라.
            ifs.seekg(5); // ifs.seekg(5, ios::beg);
            std::cout << (char) ifs.get() << std::endl;


            // 현재 커서 위치에서 다시 5바이트를 이동해서 읽어라.
            ifs.seekg(5, std::ios::cur);
            std::cout << (char) ifs.get() << std::endl;


            // 마지막에서 0바이트니까 마지막.
//            ifs.seekg(0, std::ios::end);
//            std::cout << ifs.tellg() << std::endl;  // 현재 위치.


            // 현재 커서부터 마지막까지.
            std::string str;
            getline(ifs, str);
            std::cout << str << std::endl;

            std::cout << std::endl;


        }

        {
            // 읽기도 하고 쓰기도 하는
            std::fstream iofs(filename);

            iofs.seekg(5);
            std::cout << (char) iofs.get() << std::endl; // read

            iofs.seekg(5);
            iofs.put('A');  // write


        }
    }


    return 0;
}



```

