# 18.6 기본적인 파일 입출력



```C++

// main.cpp

#include <iostream>
#include <fstream>
#include <string>
#include <cstdlib>  // exit()
#include <sstream>


int main() {

    {
        // writing
        if (true) {

            // 속도를 이유로 실무에서는 ASCII가 아닌 binary로 저장.

            // std::ofstream ofs("my_first_file.dat"); // ios::app, ios::library
            // ofs.open("my_first_file.dat");

            std::ofstream ofs("my_first_file.dat", std::ios::app);  // append. 파일이 이미 존재할 경우 이어서 작업.


            if (!ofs) {
                std::cerr << "Couldn't open files" << std::endl;
                exit(1);
            }

            // ASCII
            ofs << "Line 1" << std::endl;
            ofs << "Line 2" << std::endl;


            // binary
//            const unsigned num_data = 10;
//            ofs.write((char *) &num_data, sizeof(num_data));
//
//            for (int i = 0; i < num_data; ++i)
//                ofs.write((char *) &i, sizeof(i));

        }

        // reading
        if (true) {
            std::ifstream ifs("my_first_file.dat"); // ASCII

            if (!ifs) {
                std::cerr << "Cannot open file" << std::endl;
                exit(1);
            }

            // ASCII
            while (ifs) {
                std::string str;
                getline(ifs, str);
                std::cout << str << std::endl;
            }


            // binary

//            unsigned num_data = 0;
//            ifs.read((char *) &num_data, sizeof(num_data));
//
//            for (unsigned i = 0; i < num_data; ++i) {
//                int num;
//                ifs.read((char *) &num, sizeof(num));
//
//                std::cout << num << std::endl;
//            }
        }
    }

    return 0;
}



```

