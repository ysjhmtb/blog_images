# 12.3 override, final, 공변 반환값



```C++

// main.cpp

#include <iostream>
#include <string>

using namespace std;


class A {
public:
    virtual void print() { cout << "A" << endl; }

    virtual A *getThis() { return this; }
};

class B : public A {
public:
    void print() override { cout << "B" << endl; } // override 사용으로 실수 방지.
    virtual B *getThis() override { return this; } // virtual 사용으로 return type이 다르지만 오버라이딩이 된다.(오버로딩이 아니라 오버라이딩)



};

class C : public B {
public:
    virtual void print() final { cout << "C" << endl; } // final 사용으로 밑의 함수들은 오버라이드 할 수 없다.
};


int main() {

    A a;
    B b;
    C c;

    A &ref = b;
    b.getThis()->print();
    ref.getThis()->print();

    cout << typeid(b.getThis()).name() << endl;
    cout << typeid(ref.getThis()).name() << endl;


    return 0;
}

```

