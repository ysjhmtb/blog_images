# 12.4 가상 소멸자



```c++

// main.cpp

#include <iostream>
#include <string>

using namespace std;


class Base {
public:
    virtual ~Base() {
        cout << "~Base()" << endl;
    }
};

class Derived : public Base {
private:
    int *m_array;

public:
    Derived(int length) {
        m_array = new int[length];
    }

    ~Derived() override // virtual ~Base() 이기 때문에 override가 가능하다.
    {
        cout << "~Derived()" << endl;
        delete[] m_array;
    }
};


int main() {

    // Derived derived(5);

    Derived *derived = new Derived(5);
    Base *base = derived;
    delete base;    // ~Base()만 확인이 되는데, 이로 인해 메모리 릭이 발생. ~Base를 virtual로 만들어주면 된다.



    return 0;
}

```

