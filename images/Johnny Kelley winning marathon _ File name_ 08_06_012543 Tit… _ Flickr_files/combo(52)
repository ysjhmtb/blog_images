YUI.add("hermes-template-photo-selector-photo-list-photo-interaction",function(e,a){var t=e.Template.Handlebars.revive({1:function(e,a,t,l,n){var s,o=e.escapeExpression;return'<a href="'+o(e.lambda(null!=(s=null!=(s=null!=a?a.photo:a)?s.owner:s)?s.url:s,a))+'" class="attribution">'+o((t.intlMessage||a&&a.intlMessage||t.helperMissing).call(null!=a?a:{},{name:"intlMessage",hash:{user:null!=(s=null!=(s=null!=a?a.photo:a)?s.owner:s)?s.displayname:s,intlName:"common.BY_USER"},data:n}))+"</a>"},compiler:[7,">= 4.0.0"],main:function(e,a,t,l,n){var s,o,i=null!=a?a:{},r=e.escapeExpression;return'<div class="photo-list-photo-interaction">\n\t<div class="square"></div>\n\t<div class="interaction-bar">\n\t\t<div class="text">\n\t\t\t<a href="'+r("function"==typeof(o=null!=(o=t.photoPageUrl||(null!=a?a.photoPageUrl:a))?o:t.helperMissing)?o.call(i,{name:"photoPageUrl",hash:{},data:n}):o)+'" class="title">'+r(e.lambda(null!=(s=null!=a?a.photo:a)?s.title:s,a))+"</a>\n\t\t\t"+(null!=(s=t.if.call(i,null!=(s=null!=(s=null!=a?a.photo:a)?s.owner:s)?s.displayname:s,{name:"if",hash:{},fn:e.program(1,n,0),inverse:e.noop,data:n}))?s:"")+'\n\t\t</div>\n\t</div>\n</div>\n<div class="disabled-overlay"></div>\n'},useData:!0}),l={};e.Array.each([],function(a){var t=e.Template.get("hermes/"+a);t&&(l[a]=t)}),e.Template.register("hermes/photo-selector-photo-list-photo-interaction",function(a,n){return n=n||{},n.partials=n.partials?e.merge(l,n.partials):l,t(a,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("photo-selector-photolist-interaction-view",function(t){var e=require("hermes-core/type-validator");t.namespace("Views")[this.name]=t.Base.create(this.name,t.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this.hasMultiSelect=t.primaryPhotoListConfig&&t.primaryPhotoListConfig.hasMultiSelect,this.multiSelectLimit=void 0===t.primaryPhotoListConfig.multiSelectLimit?1:t.primaryPhotoListConfig.multiSelectLimit,this.listType=t.primaryPhotoListConfig.type,this.galleryId=t.primaryPhotoListConfig.galleryId,this.isDisabled=!1,this.isDisabledSelected=!1,this},loadState:function(){var e=this,i=[];return"galleryFaves"===this.listType&&this.galleryId&&(i.push(this.appContext.getModelRegistry("gallery-photo-association-models").then(function(t){t.exists(e.galleryId+"-"+e.get("id"))&&(e.isDisabled=!0,e.isDisabledSelected=!0)})),i.push(this.appContext.getModel("gallery-faves-models",this.appContext.getViewer().nsid+"-"+e.galleryId).then(function(t){var i=t.getValue("nonGalleryAddablePhotos").getList(),s=!1;i&&(s=i.some(function(t){return t.id===e.get("model").id})),s&&(e.isDisabled=!0)}))),i.push(this.appContext.getModel("profile-selected-photos-models",this.appContext.getViewer().nsid).then(function(t){t.getValue("photos").getFromListByID(this.get("model").getValue("id"))&&this.set("isActive",!0)}.bind(this))),t.Promise.all(i)},buildContainer:function(){var t=this.get("model");return this.setContainerWithTemplate("photo-selector-photo-list-photo-interaction",{photo:t.toJSON(),photoPageUrl:this.get("photoPageUrl")}),this},activate:function(){var e,i,s=this.get("container"),o=s.one(".disabled-overlay");return this.galleryId&&(e=this.intlMessage({intlName:"gallery.PHOTO_CANT_ADD_TO_GALLERY",mediaType:this.get("model").getValue("mediaType")}),i=this.intlMessage({intlName:"gallery.PHOTO_ALREADY_IN_GALLERY",mediaType:this.get("model").getValue("mediaType")})),this.registerEventHandler(s.on("click",this.selectPhoto.bind(this))),this.hasMultiSelect||this.registerEventHandler(t.on("photoSelector:subviewEvent",this.handleOtherPhotoSelected,this)),this.get("isActive")?this.get("isActive")&&s.addClass("active"):s.removeClass("active"),this.isDisabled&&(s.addClass("disabled"),o.setAttribute("title",e)),this.isDisabledSelected&&(s.addClass("disabled-selected"),o.setAttribute("title",i)),this},selectPhoto:function(e){if(e.halt(),!this.isDisabled)if(this.get("isActive")&&this.hasMultiSelect)this.set("isActive",!1),this.get("container").removeClass("active"),t.fire("photoSelector:subviewEvent",{eventName:"unselectPhotoFromPhotoList",id:this.get("id")});else{if(this.hasMultiSelect)return this.appContext.getModel("profile-selected-photos-models",this.appContext.getViewer().nsid).then(function(e){e.getValue("photos").size()+1<=this.multiSelectLimit&&(this.set("isActive",!0),this.get("container").addClass("active"),t.fire("photoSelector:subviewEvent",{eventName:"selectPhotoFromPhotoList",id:this.get("id")}))}.bind(this));this.set("isActive",!0),this.get("container").addClass("active"),t.fire("photoSelector:subviewEvent",{eventName:"selectPhotoFromPhotoList",id:this.get("id")})}},handleOtherPhotoSelected:function(t){if("selectPhotoFromPhotoList"===t.eventName&&this.get("isActive")){if(t.id===this.get("id"))return;this.set("isActive",!1),this.get("container")._node&&this.get("container").removeClass("active")}}},{ATTRS:{id:{writeOnce:"initOnly",validator:function(t,i){return e.photoId(t)}},model:{writeOnce:"initOnly"},photoPageUrl:{writeOnce:"initOnly"}}})},"@VERSION@",{requires:["flickr-view","hermes-template-photo-selector-photo-list-photo-interaction","attribute-helpers"],optionalRequires:["fluid"],langBundles:["common","gallery"]});YUI.add("hermes-lang-gallery_ko-kr",function(E,_){E.Intl.add("hermes/gallery","ko-KR",{VIEW_YOUR_GALLERIES:["갤러리 보기"],GALLERIES_WITH_YOUR_ITEMS:["항목으로 구성된 갤러리"],GALLERY_CURATED_BY:['갤러리 큐레이터: <a href="',"${ownerUrl}",'">',"${ownerName}","</a>"],GALLERY_CURATED_BY_YOU:['갤러리 큐레이터: <a href="',"${ownerUrl}",'">나!</a>'],PRIVATE_GALLERY_CURATED_BY:['비공개 갤러리 큐레이터: <a href="',"${ownerUrl}",'">',"${ownerName}","</a>"],YOU_ATTRIBUTION:["나!"],DESCRIPTION_READ_MORE:["자세히 읽기"],DESCRIPTION_READ_LESS:["간단히 읽기"],BACK_TO_GALLERIES_LIST:["갤러리 목록으로 돌아가기"],ADD_COMMENT:["댓글 추가"],EDIT_GALLERY:["갤러리 편집"],ADD_A_TITLE:["제목 추가"],ADD_A_DESCRIPTION:["설명 추가"],COVER_PHOTO:["커버 사진"],CHOOSE_A_COVER_PHOTO:["커버 사진 선택"],CHANGE_COVER_PHOTO:["커버 사진 변경"],PRIVATE_GALLERY:["비공개 갤러리"],DELETE_GALLERY:["갤러리 삭제"],GALLERY_CONFIRM_DELETE_MESSAGE:["이 갤러리를 삭제하시겠습니까?"],MAKE_GALLERY_PUBLIC:["이 갤러리를 공개하시겠습니까?"],GALLERY_PUBLIC_EXPLANATION:["이 갤러리는 다른 사람에게 공개되고 사진을 추가하면 알림이 전송됩니다."],LARGE_VIEW_LAYOUT_TITLE:["크게 보기"],REORDER_PHOTOS_LAYOUT_TITLE:["사진 다시 정렬"],GALLERY_PHOTO_REMOVE_MESSAGE:["이 사진은 갤러리에서 제거됩니다."],GALLERY_PHOTO_REMOVE_TITLE:["갤러리에서 이 사진을 제거하시겠습니까?"],PHOTO_REMOVED:[{type:"select",valueName:"mediaType",options:{photo:["사진"],video:["비디오"],other:["사진"]}}," 제거됨"],REMOVE_FROM_GALLERY:["갤러리에서 제거"],GALLERY_REMARK_OWNER_SAYS:["${ownerName}"," 님의 말:"],GALLERY_REMARK_WHY:["이 ",{type:"select",valueName:"mediaType",options:{photo:["사진"],video:["비디오"],other:["사진"]}},"을 왜 선택했나요?"],IN_THIS_GALLERY:["이 갤러리에서:"],AND_COUNT_MORE:["또한 ","${count}"," 추가"],NEW_GALLERY:["새 갤러리"],NOTHING_HERE_YET:["아무 것도 없습니다."],NOTHING_HERE_YET_DETAILS:["그곳의 세부 정보 페이지에서 갤러리에 사진 또는 비디오를 저장하거나 여기에 있는 즐겨찾기에서 선택할 수 있습니다."],ADD_PHOTOS_AND_VIDEOS:["사진 및 동영상 추가"],REMOVING:["삭제 중..."],ARE_YOU_SURE_REMOVE_PHOTO:["이 ",{type:"select",valueName:"mediaType",options:{photo:["사진"],video:["비디오"],other:["사진"]}},"을 제거하시겠습니까?"],ARE_YOU_SURE_REMOVE_VIDEO:["이 동영상을 제거하시겠습니까?"],GALLERY_ADD:["추가"],GALLERY_CHOOSE_PHOTOS_LIMIT:[{type:"plural",valueName:"limit",options:{one:"갤러리에 추가할 사진을 최대 ${#}개 더 선택하세요.",other:"갤러리에 추가할 사진을 최대 ${#}개 더 선택하세요."}}],GALLERY_FULL_CANT_ADD:["갤러리가 가득 찼습니다! 새로운 사진을 추가하려면 우선 일부를 제거해야 합니다."],GALLERY_EDIT_REMARK_TOOLTIP:["의견 편집"],GALLERY_VIEW_REMARK_TOOLTIP:["의견 보기"],GALLERY_FEATURED_BANNER_MESSAGE:['새로운 Flickr 갤러리를 찾고 계십니다. <a href="',"${learnUrl}",'" class="learn-more-link">자세히 알아보세요</a>. <a href="',"${feedbackUrl}",'" class="feedback-link">피드백을 공유하세요</a>.'],GALLERY_FEATURED_TITLE:["새로운 갤러리"],GALLERY_FEATURED_DESCRIPTION:["현재 더 많은 기능이 추가되었으며 사진을 500장까지 추가할 수 있습니다."],GALLERY_FEATURED_LEARN_MORE:["자세히 알아보기"],GALLERY_FEATURED_SUBMIT_FEEDBACK:["피드백 제출"],PHOTO_CANT_ADD_TO_GALLERY:["회원님의 ",{type:"select",valueName:"mediaType",options:{photo:["사진"],video:["동영상"],other:["사진"]}},"을 갤러리에 추가할 수 없습니다."],PHOTO_ALREADY_IN_GALLERY:["이 ",{type:"select",valueName:"mediaType",options:{photo:["사진"],video:["비디오"],other:["사진"]}},"은 이미 갤러리에 있습니다."],USER_HASNT_CREATED_GALLERIES:["${ownerName}"," 님은 아직 갤러리를 만들지 않았습니다."],GALLERIES_COUNT:[{type:"plural",valueName:"count",options:{one:["${countString}","개의 갤러리"],other:["${countString}","개의 갤러리"]}}]})},"@VERSION@",{requires:["intl"]});YUI.add("hermes-template-photo-selector-sets-photolist-set-interaction",function(e,t){var a=e.Template.Handlebars.revive({1:function(e,t,a,l,n){var s;return'\t\t\t\t<span class="album-photo-count">'+e.escapeExpression((a.intlMessage||t&&t.intlMessage||a.helperMissing).call(null!=t?t:{},{name:"intlMessage",hash:{selectedCount:null!=(s=null!=t?t.album:t)?s.publicPhotosCount:s,intlName:"album-page.PUBLIC_ITEMS_COUNT"},data:n}))+"</span>\n"},3:function(e,t,a,l,n){var s;return'\t\t\t<span class="album-photo-count">'+e.escapeExpression((a.intlMessage||t&&t.intlMessage||a.helperMissing).call(null!=t?t:{},{name:"intlMessage",hash:{selectedCount:null!=(s=null!=t?t.album:t)?s.totalCount:s,intlName:"album-page.PHOTOS_COUNT"},data:n}))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,a,l,n){var s;return'<div class="photo-list-album-interaction photo-selector-album dark">\n\t<div class="interaction-bar">\n\t\t<h4 class="album-title">'+e.escapeExpression(e.lambda(null!=(s=null!=t?t.album:t)?s.title:s,t))+"</h4>\n"+(null!=(s=a.if.call(null!=t?t:{},null!=t?t.publicOnlyPhotos:t,{name:"if",hash:{},fn:e.program(1,n,0),inverse:e.program(3,n,0),data:n}))?s:"")+"\t</div>\n</div>\n"},useData:!0}),l={};e.Array.each([],function(t){var a=e.Template.get("hermes/"+t);a&&(l[t]=a)}),e.Template.register("hermes/photo-selector-sets-photolist-set-interaction",function(t,n){return n=n||{},n.partials=n.partials?e.merge(l,n.partials):l,a(t,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("photo-selector-sets-photolist-interaction-view",function(t){var e=require("hermes-core/type-validator");t.namespace("Views")[this.name]=t.Base.create(this.name,t.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this.publicOnlyPhotos=t.publicOnlyPhotos,this},loadState:function(){return this.appContext.getModel(this.get("engagementModelName"),this.get("id")).then(function(t){this.set("engagement",t)}.bind(this))},buildContainer:function(){return this.setContainerWithTemplate("photo-selector-sets-photolist-set-interaction",{album:this.get("model").toJSON(),publicOnlyPhotos:this.publicOnlyPhotos,albumPageUrl:this.get("albumPageUrl")}),this},activate:function(){return this.registerEventHandler(this.get("container").on("click",this.selectSet.bind(this))),this},selectSet:function(e){e.halt(),t.fire("photoSelector:subviewEvent",{eventName:"selectSetFromPhotoList",id:this.get("id"),title:this.get("model").getValue("title")})},destructor:function(){}},{ATTRS:{id:{writeOnce:"initOnly",validator:function(t,i){return e.photoId(t)}},model:{writeOnce:"initOnly"},albumPageUrl:{writeOnce:"initOnly"},engagement:{value:null},engagementModelName:{writeOnce:"initOnly",value:null,validator:function(e,i){return t.AttributeHelpers.validateString(e)}}}})},"@VERSION@",{requires:["flickr-view","hermes-template-photo-selector-sets-photolist-set-interaction","attribute-helpers"],optionalRequires:["fluid"],langBundles:["album-page"]});